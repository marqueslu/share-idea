<app-menu-superior></app-menu-superior>

<div class="profile-page">
    <div class="user-info">
        <div class="container">
            <div class="row">
                <img src="https://firebasestorage.googleapis.com/v0/b/redesocialtcc-46645.appspot.com/o/perfil%2F{{perfilId}}?alt=media&token=4bb86929-ef2c-4608-bb98-c3c3346c57d1" class="user-img" />

                <h4>{{perfil.nome}} {{perfil.sobrenome}}</h4>

                <h5 style="color:#46b8da">
                    <b>{{perfil.profissao}}</b>
                </h5>
                <p style="color:mediumslateblue">Seguidores:
                    <strong>{{seguidores.length}}</strong> Projetos:
                    <strong>{{projetos.length}}</strong> Postagens:
                    <strong>{{postagens.length}}</strong>
                </p>
                <br>
                <p style="font-family: Comic Sans MS; font-size: 14px; color:#696969">{{perfil.sobre}}</p>

                <div tyle="float:right" *ngIf="user.id !== perfilId && seguidorExistente === null">
                    <button class="btn btn-primary" (click)="seguir()">
                        Seguir</button>
                </div>
                <div style="float:right" *ngIf="user.id !== perfilId && seguidorExistente !== null">
                    <button class="btn btn-success">Seguindo</button>
                </div>

                <div *ngIf="user.id === perfilId">
                    <a [routerLink]="['/perfil-editar/', perfil.id]" class="btn btn-sm btn-outline-secondary action-btn">
                        <i class="ion-gear-a"></i>Editar Perfil</a>

                </div>
            </div>
        </div>
    </div>

    <ngui-tab>
        <div class="container">
            <div class="row row-contents-perfil">
                <div class="tabbable-panel">
                    <div class="tabbable-line">
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="#tab2" data-toggle="tab">
                                    <div index="postagens" class="hidden-xs">
                                        Postagens ({{postagens.length}})
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#tab3" data-toggle="tab">
                                    <div index="projetos" class="hidden-xs">
                                        Projetos ({{projetos.length}})
                                    </div>
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="tab2">
                                <div contents="postagens">
                                    <article>
                                        <app-postagem [postagens]="postagens"></app-postagem>
                                    </article>
                                    <ng-template #template>
                                        <div class="modal-header">
                                            <h4 class="modal-title pull-left">Modal</h4>
                                            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            This is a modal.
                                        </div>
                                    </ng-template>
                                </div>
                            </div>
                            <div class="tab-pane" id="tab3">
                                <div contents="projetos">
                                    <div *ngFor='let projeto of projetos'>

                                        <div class="container-fluid">
                                            <div class="container container-pad" id="property-listings">

                                                <div style="margin-left:70px; margin-top:30px;" class="col-sm-10">

                                                    <!-- Begin Listing: 609 W GRAVERS LN-->
                                                    <div class="brdr bgc-fff pad-10 box-shad btm-mrg-20 property-listing">

                                                        <div class="media">
                                                            <a style="text-align: center" class="pull-left" [routerLink]="['/projeto-detalhes/', projeto.id]" target="_parent">
                                                                <img alt="image" class="img-responsive" src="https://firebasestorage.googleapis.com/v0/b/redesocialtcc-46645.appspot.com/o/projetos%2F{{projeto.id}}?alt=media&token=4bb86929-ef2c-4608-bb98-c3c3346c57d1">
                                                            </a>

                                                            <div class="media-body fnt-smaller">
                                                                <a href="#" target="_parent"></a>

                                                                <h4 style="margin-bottom: 15px" class="media-heading">{{projeto.titulo}}</h4>

                                                                <p class="hidden-xs">{{projeto.descCurta}}</p>
                                                            </div>
                                                        </div>
                                                        <a [routerLink]="['/projeto-editar/', projeto.id]" class="btn btn-sm btn-outline-secondary action-btn editar-projeto-perfil" *ngIf="user.id == perfilId">
                                                            <i *ngIf="user.id === perfilId" class="glyphicon glyphicon-cog"></i>Editar Projeto</a>
                                                        <div class="post-footer-option">
                                                            <ul class="list-unstyled">
                                                                <li>
                                                                    <a>
                                                                        <i class="glyphicon glyphicon-eye-open"></i> Views -
                                                                        <strong>23222</strong>
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a>
                                                                        <i class="glyphicon glyphicon-comment"></i> Comentários
                                                                        <strong>0</strong>
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a>
                                                                        <i class="glyphicon glyphicon-user"></i> Colaboradores -
                                                                        <strong>1</strong>
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 
        <div class="btn-pref btn-group btn-group-justified btn-group-lg" role="group" aria-label="...">

            <div class="btn-group" role="group">
                <button type="button" class="btn btn-default" href="#tab2" data-toggle="tab">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    <div index="postagens" class="hidden-xs">
                        <strong>Postagens</strong>
                    </div>
                </button>
            </div>
            <div class="btn-group" role="group">
                <button type="button" class="btn btn-default" href="#tab3" data-toggle="tab">
                    <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
                    <div index="projetos" class="hidden-xs">
                        <strong>Projetos</strong>
                    </div>
                </button>
            </div>
        </div> -->
        <!-- <div class="tab-contents">
            <div contents="postagens">
                <article>
                    <hr />
                    <app-postagem [postagens]="postagens"></app-postagem>
                </article>
                <ng-template #template>
                    <div class="modal-header">
                        <h4 class="modal-title pull-left">Modal</h4>
                        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        This is a modal.
                    </div>
                </ng-template>
            </div>
            <div contents="projetos">
                <div *ngFor='let projeto of projetos'>

                    <div class="container-fluid">
                        <div class="container container-pad" id="property-listings">

                            <div style="margin-left:70px; margin-top:30px;" class="col-sm-10">

                                
                                <div class="brdr bgc-fff pad-10 box-shad btm-mrg-20 property-listing">

                                    <div class="media">
                                        <a class="pull-left" [routerLink]="['/projeto-detalhes/', projeto.id]" target="_parent">
                                            <img alt="image" class="img-responsive" src="https://firebasestorage.googleapis.com/v0/b/redesocialtcc-46645.appspot.com/o/projetos%2F{{projeto.id}}?alt=media&token=4bb86929-ef2c-4608-bb98-c3c3346c57d1">
                                        </a>

                                        <div class="media-body fnt-smaller">
                                            <a href="#" target="_parent"></a>

                                            <h4 style="margin-bottom: 15px" class="media-heading">{{projeto.titulo}}</h4>

                                            <p class="hidden-xs">{{projeto.descCurta}}</p>
                                        </div>
                                    </div>
                                    <a [routerLink]="['/projeto-editar/', projeto.id]" class="btn btn-sm btn-outline-secondary action-btn" *ngIf="user.id == perfilId">
                                        <i *ngIf="user.id === perfilId" class="glyphicon glyphicon-cog"></i>Editar Prjeto</a>
                                    <div class="post-footer-option">
                                        <ul class="list-unstyled">
                                            <li>
                                                <a>
                                                    <i class="glyphicon glyphicon-eye-open"></i> Views -
                                                    <strong>23222</strong>
                                                </a>
                                            </li>
                                            <li>
                                                <a>
                                                    <i class="glyphicon glyphicon-comment"></i> Comentários
                                                    <strong>0</strong>
                                                </a>
                                            </li>
                                            <li>
                                                <a>
                                                    <i class="glyphicon glyphicon-user"></i> Colaboradores -
                                                    <strong>1</strong>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div> -->
    </ngui-tab>
</div>